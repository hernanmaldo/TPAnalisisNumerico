@model AnlisisNumericoWeb.Models.IntegracionModel

@{
    ViewData["Title"] = "Integración Numérica";
}

<h2>Integración Numérica</h2>

<form asp-action="Resultado" method="post">
    <div>
        <label style="color: white;">Función:</label>
        <input type="text" asp-for="Funcion" placeholder="Ej: x^2 + 3*x" />
    </div>

    <div>
        <label style="color: white;">Límite inferior:</label>
        <input type="number" asp-for="LimiteInferior" step="any" />
    </div>

    <div>
        <label style="color: white;">Límite superior:</label>
        <input type="number" asp-for="LimiteSuperior" step="any" />
    </div>

    <div>
        <label style="color: white;">Método:</label>
        <select asp-for="Metodo" id="metodoSelect">
            <option value="Trapecio Simple">Trapecio Simple</option>
            <option value="Trapecio Multiple">Trapecio Multiple</option>
            <option value="Simpson 1/3 Simple">Simpson 1/3 Simple</option>
            <option value="Simpson 1/3 Multiple">Simpson 1/3 Multiple</option>
            <option value="Simpson 3/8">Simpson 3/8</option>
        </select>
    </div>

    <div id="divIntervalos">
        <label style="color: white;">Número de intervalos:</label>
        <input type="number" asp-for="NumeroIntervalos" />
    </div>

    <div>
        <button type="submit">Calcular</button>
    </div>
</form>

@section Scripts {
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const metodoSelect = document.getElementById("metodoSelect");
        const divIntervalos = document.getElementById("divIntervalos");

        function actualizarCampoIntervalos() {
            const metodo = metodoSelect.value.trim(); // elimina espacios por si acaso
            const metodosMultiples = ["Trapecio Multiple", "Simpson 1/3 Multiple"];

            if (metodosMultiples.includes(metodo)) {
                divIntervalos.style.display = "block";
            } else {
                divIntervalos.style.display = "none";
            }
        }

        metodoSelect.addEventListener("change", actualizarCampoIntervalos);
        actualizarCampoIntervalos(); // Ejecutar al cargar la página
    });
</script>
}
